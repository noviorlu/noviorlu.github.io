{{ define "main" }}
<!-- ══════════════════════════════════════════════════════════
     ENDFIELD HOMEPAGE — Custom Sections
     Hero + Stats + Skills + Timeline + Portfolio + Recent
     ══════════════════════════════════════════════════════════ -->

<!-- ── 1. HERO SECTION ─────────────────────────────────────── -->
<section class="ef-home-hero" id="ef-home-hero">
  <div class="ef-home-hero__bg"></div>
  <div class="ef-home-hero__grid"></div>
  <div class="ef-home-hero__content">
    <div class="ef-home-hero__avatar-wrap">
      {{ with .Site.Params.Author.image }}
        {{ $img := resources.Get . }}
        {{ if $img }}
          {{ $thumb := $img.Fill "288x288 q96" }}
          <img src="{{ $thumb.RelPermalink }}" alt="Chen Yang" class="ef-home-hero__avatar" />
        {{ end }}
      {{ else }}
        <div class="ef-home-hero__avatar ef-home-hero__avatar--placeholder">喵</div>
      {{ end }}
    </div>
    <div class="ef-home-hero__text">
      <span class="ef-home-hero__label">[ OPERATOR // ENDFIELD ]</span>
      <h1 class="ef-glitch" data-text="Noviorlu">Noviorlu</h1>
      <p class="ef-home-hero__subtitle">Rendering is Dead, Long Live AI</p>
      <p class="ef-home-hero__bio">图形学 × AI — 用代码模拟世界的实验场</p>
      <div class="ef-home-hero__links">
        <a href="https://github.com/noviorlu" target="_blank" rel="noopener" title="GitHub">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12z"/></svg>
        </a>
        <a href="https://www.linkedin.com/in/chen-yang-noviorlu/" target="_blank" rel="noopener" title="LinkedIn">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ── 2. STATS BAR ────────────────────────────────────────── -->
<section class="ef-stats" id="ef-stats">
  <div class="ef-stats__inner">
    <div class="ef-stats__item ef-reveal">
      <span class="ef-stats__num" data-target="9999">0</span><span class="ef-stats__plus">+</span>
      <span class="ef-stats__label">行代码删除</span>
    </div>
    <div class="ef-stats__item ef-reveal ef-reveal-delay-1">
      <span class="ef-stats__num" data-target="42">0</span>
      <span class="ef-stats__label">意义未明的常数</span>
    </div>
    <div class="ef-stats__item ef-reveal ef-reveal-delay-2">
      <span class="ef-stats__num" data-target="1">0</span>
      <span class="ef-stats__label">研究论文</span>
    </div>
    <div class="ef-stats__item ef-reveal ef-reveal-delay-3">
      <span class="ef-stats__num" data-target="0">0</span>
      <span class="ef-stats__label">生产事故 (暂时)</span>
    </div>
  </div>
</section>

<!-- ── 3. SKILLS PANEL ─────────────────────────────────────── -->
<section class="ef-skills" id="ef-skills">
  <h2 class="ef-section-title"><span class="ef-section-title__marker">[ 03 ]</span> 技能树</h2>
  <div class="ef-skills__grid">

    <div class="ef-skills__card" data-skill="gfx">
      <div class="ef-skills__header">
        <span class="ef-skills__icon">◆</span>
        <span class="ef-skills__name">图形学 & 渲染</span>
        <span class="ef-skills__toggle">+</span>
      </div>
      <div class="ef-skills__body">
        <ul>
          <li>Vulkan / OpenGL</li>
          <li>路径追踪 & PBR</li>
          <li>3DGS / NeRF</li>
          <li>Mesh LOD</li>
        </ul>
      </div>
    </div>

    <div class="ef-skills__card" data-skill="sys">
      <div class="ef-skills__header">
        <span class="ef-skills__icon">◆</span>
        <span class="ef-skills__name">系统编程</span>
        <span class="ef-skills__toggle">+</span>
      </div>
      <div class="ef-skills__body">
        <ul>
          <li>C/C++</li>
          <li>OS 内核</li>
          <li>体系结构</li>
        </ul>
      </div>
    </div>

    <div class="ef-skills__card" data-skill="ai">
      <div class="ef-skills__header">
        <span class="ef-skills__icon">◆</span>
        <span class="ef-skills__name">AI & ML</span>
        <span class="ef-skills__toggle">+</span>
      </div>
      <div class="ef-skills__body">
        <ul>
          <li>Neural Rendering</li>
          <li>RL / Transformer</li>
          <li>AIGC 玩家</li>
        </ul>
      </div>
    </div>

    <div class="ef-skills__card" data-skill="game">
      <div class="ef-skills__header">
        <span class="ef-skills__icon">◆</span>
        <span class="ef-skills__name">游戏 & 交互</span>
        <span class="ef-skills__toggle">+</span>
      </div>
      <div class="ef-skills__body">
        <ul>
          <li>Unity / WebGL</li>
          <li>体素 & 仿真</li>
        </ul>
      </div>
    </div>

    <div class="ef-skills__card" data-skill="devops">
      <div class="ef-skills__header">
        <span class="ef-skills__icon">◆</span>
        <span class="ef-skills__name">工具 & 基建</span>
        <span class="ef-skills__toggle">+</span>
      </div>
      <div class="ef-skills__body">
        <ul>
          <li>CI/CD</li>
          <li>分布式系统</li>
          <li>Java / Git</li>
        </ul>
      </div>
    </div>

  </div>
</section>

<!-- ── 4. CHRONICLE ─────────────────────────────────────────── -->
<section class="ef-timeline" id="ef-timeline">
  <h2 class="ef-section-title"><span class="ef-section-title__marker">[ 04 ]</span> 编年史</h2>
  <div class="ef-timeline__line">

    <div class="ef-timeline__item ef-timeline__item--left ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2019</span>
        <h3>入坑图形学</h3>
        <p class="ef-timeline__desc">第一次写光线追踪，看到像素一个个亮起来的时候，决定了方向。从 OpenGL 三角形开始，一路折腾到 PBR。</p>
      </div>
    </div>

    <div class="ef-timeline__item ef-timeline__item--right ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2021</span>
        <h3>渲染狂热期</h3>
        <p class="ef-timeline__desc">写了离线渲染器、实时渲染器、体素引擎……能用光栅化解决的问题绝不用别的。坚信手写 Shader 才是正道。</p>
      </div>
    </div>

    <div class="ef-timeline__item ef-timeline__item--left ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2022</span>
        <h3>工业级渲染</h3>
        <p class="ef-timeline__desc">第一次接触生产级渲染管线。才发现学校写的 toy renderer 和真正要跑在几亿设备上的东西，完全不是一回事。</p>
      </div>
    </div>

    <div class="ef-timeline__item ef-timeline__item--right ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2023</span>
        <h3>NeRF 冲击</h3>
        <p class="ef-timeline__desc">3DGS 论文出来的那天，意识到神经网络正在吃掉传统渲染的地盘。开始认真学 ML，从怀疑到 "这东西真的能用"。</p>
      </div>
    </div>

    <div class="ef-timeline__item ef-timeline__item--left ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2024</span>
        <h3>Neural Rendering</h3>
        <p class="ef-timeline__desc">读研方向选了可微渲染。两个世界开始融合——用梯度下降做渲染，用渲染知识设计网络。这才是我想做的事。</p>
      </div>
    </div>

    <div class="ef-timeline__item ef-timeline__item--right ef-reveal">
      <div class="ef-timeline__node"></div>
      <div class="ef-timeline__card">
        <span class="ef-timeline__date">2025</span>
        <h3>Rendering is Dead?</h3>
        <p class="ef-timeline__desc">AI 生成的画面已经能骗过大多数人的眼睛。传统渲染不会消失，但规则变了。与其对抗，不如站在交叉点上。</p>
      </div>
    </div>

  </div>
</section>

<!-- ── 5. PORTFOLIO ─────────────────────────────────────────── -->
<section class="ef-portfolio" id="ef-portfolio">
  <h2 class="ef-section-title"><span class="ef-section-title__marker">[ 05 ]</span> 折腾过的东西</h2>
  
  <div class="ef-portfolio__filters">
    <button class="ef-portfolio__filter active" data-filter="all">全部</button>
    <button class="ef-portfolio__filter" data-filter="graphics">图形学</button>
    <button class="ef-portfolio__filter" data-filter="systems">系统</button>
    <button class="ef-portfolio__filter" data-filter="ai">AI</button>
    <button class="ef-portfolio__filter" data-filter="gamedev">游戏</button>
  </div>

  <div class="ef-portfolio__grid">

    <div class="ef-portfolio__card ef-reveal" data-cat="ai graphics">
      <div class="ef-portfolio__card-inner">
        <h3>Neural Lens Simulation</h3>
        <p>神经网络 × Shader 的实时透镜仿真</p>
        <div class="ef-portfolio__tags">
          <span>Neural Rendering</span><span>GLSL</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="graphics">
      <div class="ef-portfolio__card-inner">
        <h3>Nanite 风格 Mesh LOD</h3>
        <p>百万三角形的动态细节层次</p>
        <div class="ef-portfolio__tags">
          <span>C++</span><span>Mesh</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="graphics">
      <div class="ef-portfolio__card-inner">
        <h3>Iajolla 离线渲染器</h3>
        <p>路径追踪 + Disney BSDF + 体积渲染</p>
        <div class="ef-portfolio__tags">
          <span>C++</span><span>PBR</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="graphics">
      <div class="ef-portfolio__card-inner">
        <h3>OpenGL 实时渲染器</h3>
        <p>SSGI、体素渲染、Fragment Shader RT</p>
        <div class="ef-portfolio__tags">
          <span>OpenGL</span><span>GLSL</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="gamedev">
      <div class="ef-portfolio__card-inner">
        <h3>Optic 光学仿真平台</h3>
        <p>Unity WebGL 波动光学教学</p>
        <div class="ef-portfolio__tags">
          <span>Unity</span><span>WebGL</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="systems">
      <div class="ef-portfolio__card-inner">
        <h3>分布式 KV 数据库</h3>
        <p>一致性哈希 + 复制 + 容错</p>
        <div class="ef-portfolio__tags">
          <span>Java</span><span>Distributed</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="systems">
      <div class="ef-portfolio__card-inner">
        <h3>CPU 体系结构模拟</h3>
        <p>Tomasulo 流水线 + 分支预测</p>
        <div class="ef-portfolio__tags">
          <span>Architecture</span>
        </div>
      </div>
    </div>

    <div class="ef-portfolio__card ef-reveal" data-cat="gamedev">
      <div class="ef-portfolio__card-inner">
        <h3>体素编辑器</h3>
        <p>交互式体素建模工具</p>
        <div class="ef-portfolio__tags">
          <span>Voxel</span><span>MVC</span>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ── 5.5 GAMING ──────────────────────────────────────────── -->
<section class="ef-gaming" id="ef-gaming">
  <h2 class="ef-section-title"><span class="ef-section-title__marker">[ 06 ]</span> 战场日志</h2>

  <div class="ef-gaming__showcase ef-reveal">
    <div class="ef-gaming__header">
      <div class="ef-gaming__game-info">
        <h3>World of Warships</h3>
        <div class="ef-gaming__stats-row">
          <span class="ef-gaming__stat"><strong>2000+</strong> 小时</span>
          <span class="ef-gaming__stat"><strong>30+</strong> 十级船</span>
          <span class="ef-gaming__stat">全系全线</span>
        </div>
      </div>
    </div>

    <div class="ef-gaming__fleet">
      <h4 class="ef-gaming__fleet-title">⚓ X 级舰队</h4>
      <div class="ef-gaming__ship-grid">
        <!-- 战列 -->
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>大和</span><span class="ef-gaming__wr">54%</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>蒙大拿</span><span class="ef-gaming__wr good">100%</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>征服者</span><span class="ef-gaming__wr">50%</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>兴登堡</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>俄亥俄</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>佛蒙特</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>无比</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="bb">
          <span class="ef-gaming__ship-icon">🔴</span>
          <span>丰后</span><span class="ef-gaming__wr good">81%</span>
        </div>
        <!-- 巡洋 -->
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>藏王</span><span class="ef-gaming__wr">45%</span>
        </div>
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>塞勒姆</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>米诺陶</span><span class="ef-gaming__wr">53%</span>
        </div>
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>不来梅</span><span class="ef-gaming__wr">59%</span>
        </div>
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>彼得罗巴甫洛夫斯克</span><span class="ef-gaming__wr">62%</span>
        </div>
        <div class="ef-gaming__ship" data-type="ca">
          <span class="ef-gaming__ship-icon">🟡</span>
          <span>吉野</span><span class="ef-gaming__wr">58%</span>
        </div>
        <!-- 驱逐 -->
        <div class="ef-gaming__ship" data-type="dd">
          <span class="ef-gaming__ship-icon">🟢</span>
          <span>岛风</span><span class="ef-gaming__wr good">68%</span>
        </div>
        <div class="ef-gaming__ship" data-type="dd">
          <span class="ef-gaming__ship-icon">🟢</span>
          <span>玛索</span><span class="ef-gaming__wr">—</span>
        </div>
        <div class="ef-gaming__ship" data-type="dd">
          <span class="ef-gaming__ship-icon">🟢</span>
          <span>那不勒斯</span><span class="ef-gaming__wr">47%</span>
        </div>
        <div class="ef-gaming__ship" data-type="dd">
          <span class="ef-gaming__ship-icon">🟢</span>
          <span>刻耳柏洛斯</span><span class="ef-gaming__wr">62%</span>
        </div>
        <div class="ef-gaming__ship" data-type="dd">
          <span class="ef-gaming__ship-icon">🟢</span>
          <span>淀</span><span class="ef-gaming__wr">50%</span>
        </div>
        <!-- 航母 -->
        <div class="ef-gaming__ship" data-type="cv">
          <span class="ef-gaming__ship-icon">🔵</span>
          <span>埃塞克斯</span><span class="ef-gaming__wr">50%</span>
        </div>
        <div class="ef-gaming__ship" data-type="cv">
          <span class="ef-gaming__ship-icon">🔵</span>
          <span>仁川</span><span class="ef-gaming__wr good">100%</span>
        </div>
      </div>
    </div>

    <!-- Azur Lane character gallery -->
    <div class="ef-gaming__gallery">
      <div class="ef-gaming__al-strip">
        <img src="/img/azurlane/shimakaze.png" alt="岛风" loading="lazy" />
        <img src="/img/azurlane/hindenburg.png" alt="兴登堡" loading="lazy" />
        <img src="/img/azurlane/bismarck.png" alt="俾斯麦" loading="lazy" />
        <img src="/img/azurlane/essex.png" alt="埃塞克斯" loading="lazy" />
        <img src="/img/azurlane/atago.png" alt="爱宕" loading="lazy" />
        <img src="/img/azurlane/takao.png" alt="高雄" loading="lazy" />
      </div>
    </div>
  </div>
</section>

<!-- ── RECENT ARTICLES (from Blowfish) ─────────────────────── -->
<section class="ef-recent-section">
  <h2 class="ef-section-title"><span class="ef-section-title__marker">[ 07 ]</span> 最新文章</h2>
  {{ partial "recent-articles/main.html" . }}
</section>

{{ end }}
